apiVersion: v1
kind: Service
metadata:
  name: nginx-service
spec:
  type: NodePort        # 클러스터가 외부에서 접근할 수 있도록 노드를 열어줌
  selector:
    app: nginx
  ports:
  - protocol: TCP
    port: 80            # 서비스가 클러스터 내부에서 열어둔 포트
    targetPort: 80      # pod가 열어둔 포트
    nodePort: 30080     # 외부에서 접속할 포트 지정